(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{157:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...p}=e;return(0,n.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:o?24*Number(s)/Number(a):s,className:i("lucide",c),...p},[...u.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,n.forwardRef)((r,l)=>{let{className:o,...c}=r;return(0,n.createElement)(s,{ref:l,iconNode:t,className:i("lucide-".concat(a(e)),o),...c})});return r.displayName="".concat(e),r}},968:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});var n=r(2115),a=r(3540),i=r(5155),l=n.forwardRef((e,t)=>(0,i.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var s=l},3540:(e,t,r)=>{"use strict";r.d(t,{sG:()=>u,hO:()=>p});var n=r(2115),a=r(7650),i=r(6101),l=r(5155),s=n.forwardRef((e,t)=>{let{children:r,...a}=e,i=n.Children.toArray(r),s=i.find(d);if(s){let e=s.props.children,r=i.map(t=>t!==s?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,l.jsx)(o,{...a,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,l.jsx)(o,{...a,ref:t,children:r})});s.displayName="Slot";var o=n.forwardRef((e,t)=>{let{children:r,...a}=e;if(n.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r),l=function(e,t){let r={...t};for(let n in t){let a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...e)=>{i(...e),a(...e)}:a&&(r[n]=a):"style"===n?r[n]={...a,...i}:"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==n.Fragment&&(l.ref=t?(0,i.t)(t,e):e),n.cloneElement(r,l)}return n.Children.count(r)>1?n.Children.only(null):null});o.displayName="SlotClone";var c=({children:e})=>(0,l.jsx)(l.Fragment,{children:e});function d(e){return n.isValidElement(e)&&e.type===c}var u=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=n.forwardRef((e,r)=>{let{asChild:n,...a}=e,i=n?s:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(i,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function p(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},4253:(e,t,r)=>{"use strict";r.d(t,{DX:()=>l});var n=r(2115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var i=r(5155),l=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){var l;let e,s,o=(l=r,(s=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(s=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),c=function(e,t){let r={...t};for(let n in t){let a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...e)=>{let t=i(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...i}:"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==n.Fragment&&(c.ref=t?function(...e){return t=>{let r=!1,n=e.map(e=>{let n=a(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():a(e[t],null)}}}}(t,o):o),n.cloneElement(r,c)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:a,...l}=e,s=n.Children.toArray(a),c=s.find(o);if(c){let e=c.props.children,a=s.map(t=>t!==c?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...l,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null})}return(0,i.jsx)(t,{...l,ref:r,children:a})});return r.displayName=`${e}.Slot`,r}("Slot"),s=Symbol("radix.slottable");function o(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===s}},5695:(e,t,r)=>{"use strict";var n=r(8999);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,t:()=>i});var n=r(2115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let r=!1,n=e.map(e=>{let n=a(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():a(e[t],null)}}}}function l(...e){return n.useCallback(i(...e),e)}},9635:(e,t,r)=>{Promise.resolve().then(r.bind(r,9840))},9737:(e,t,r)=>{"use strict";let n;r.d(t,{A:()=>s});let a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},i=new Uint8Array(16),l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));let s=function(e,t,r){if(a.randomUUID&&!t&&!e)return a.randomUUID();let s=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)})();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return function(e,t=0){return l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]}(s)}},9840:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(5155),a=r(285),i=r(6695),l=r(2523),s=r(5057),o=r(5127),c=r(6126),d=r(157);let u=(0,d.A)("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),p=(0,d.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var f=r(9465),h=r(5695),m=r(2115),y=r(7481),g=r(5489);function v(){let{userData:e,loading:t}=(0,f.A)(),r=(0,h.useRouter)(),{toast:d}=(0,y.dj)(),[v,x]=(0,m.useState)([]),[j,N]=(0,m.useState)(""),[w,E]=(0,m.useState)(""),[b,A]=(0,m.useState)(""),[k,C]=(0,m.useState)("");(0,m.useEffect)(()=>{t||e&&["master","logistica"].includes(e.role)||r.push("/")},[e,t,r]);let R=(0,m.useCallback)(async()=>{try{let e=await (0,g.K6)();x(e)}catch(e){console.error("Error fetching requests:",e),d({variant:"destructive",title:"Error",description:"No se pudieron cargar las solicitudes."})}},[d]);(0,m.useEffect)(()=>{e&&R()},[e,R]);let S=async e=>{e.preventDefault();let t=parseInt(k,10);if(!w||isNaN(t)||t<=0)return void d({variant:"destructive",title:"Error de Validaci\xf3n",description:"El nombre y una cantidad de stock v\xe1lida son requeridos."});try{await (0,g.M9)({serial:j,name:w,location:b,stock:t}),d({title:"Activo Agregado",description:"El activo ".concat(w," ha sido agregado al inventario.")}),E(""),N(""),A(""),C("")}catch(e){console.error("Error agregando activo:",e),d({variant:"destructive",title:"Error",description:e.message||"No se pudo agregar el activo."})}},D=async e=>{try{await (0,g.U$)(e),d({title:"Solicitud Procesada",description:"La solicitud ha sido marcada como 'Enviado'."}),await R()}catch(e){console.error("Error procesando solicitud:",e),d({variant:"destructive",title:"Error",description:e.message||"No se pudo procesar la solicitud."})}};return t||!e?(0,n.jsx)("div",{children:"Cargando..."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("h1",{className:"text-lg font-semibold md:text-2xl",children:"Panel de Log\xedstica"})}),(0,n.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,n.jsxs)(i.Zp,{className:"lg:col-span-1",children:[(0,n.jsxs)(i.aR,{children:[(0,n.jsx)(i.ZB,{children:"Ingresar Activos al Sistema"}),(0,n.jsx)(i.BT,{children:"Registre nuevos activos en el inventario."})]}),(0,n.jsx)(i.Wu,{children:(0,n.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(s.J,{htmlFor:"serial",children:"Serial (Opcional)"}),(0,n.jsx)(l.p,{id:"serial",name:"serial",placeholder:"SN12345ABC",value:j,onChange:e=>N(e.target.value)})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(s.J,{htmlFor:"name",children:"Nombre / Descripci\xf3n"}),(0,n.jsx)(l.p,{id:"name",name:"name",placeholder:"Laptop Dell XPS 15",required:!0,value:w,onChange:e=>E(e.target.value)})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(s.J,{htmlFor:"stock",children:"Cantidad (Stock)"}),(0,n.jsx)(l.p,{id:"stock",name:"stock",type:"number",placeholder:"10",required:!0,min:"1",value:k,onChange:e=>C(e.target.value)})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(s.J,{htmlFor:"location",children:"Ubicaci\xf3n"}),(0,n.jsx)(l.p,{id:"location",name:"location",placeholder:"Bodega Central, Estante A-3",value:b,onChange:e=>A(e.target.value)})]}),(0,n.jsxs)(a.$,{type:"submit",className:"w-full",children:[(0,n.jsx)(u,{className:"mr-2 h-4 w-4"}),"Agregar Activo"]})]})})]}),(0,n.jsxs)(i.Zp,{className:"lg:col-span-2",children:[(0,n.jsxs)(i.aR,{children:[(0,n.jsx)(i.ZB,{children:"Gestionar Solicitudes de Asignaci\xf3n"}),(0,n.jsx)(i.BT,{children:"Procese las solicitudes de asignaci\xf3n y confirme los env\xedos."})]}),(0,n.jsx)(i.Wu,{children:(0,n.jsxs)(o.XI,{children:[(0,n.jsx)(o.A0,{children:(0,n.jsxs)(o.Hj,{children:[(0,n.jsx)(o.nd,{children:"Empleado"}),(0,n.jsx)(o.nd,{children:"Activo"}),(0,n.jsx)(o.nd,{children:"Cantidad"}),(0,n.jsx)(o.nd,{children:"Estado"}),(0,n.jsx)(o.nd,{className:"text-right",children:"Acciones"})]})}),(0,n.jsx)(o.BF,{children:v.map(e=>(0,n.jsxs)(o.Hj,{children:[(0,n.jsx)(o.nA,{children:e.employeeName}),(0,n.jsx)(o.nA,{children:e.assetName}),(0,n.jsx)(o.nA,{children:e.quantity}),(0,n.jsx)(o.nA,{children:(0,n.jsx)(c.E,{variant:"pendiente de env\xedo"===e.status?"default":"pendiente por stock"===e.status?"destructive":"secondary",children:e.status})}),(0,n.jsx)(o.nA,{className:"text-right",children:"pendiente de env\xedo"===e.status&&(0,n.jsxs)(a.$,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>D(e.id),children:[(0,n.jsx)(p,{className:"h-4 w-4"}),"Procesar"]})})]},e.id))})]})})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,416,686,314,441,684,358],()=>t(9635)),_N_E=e.O()}]);