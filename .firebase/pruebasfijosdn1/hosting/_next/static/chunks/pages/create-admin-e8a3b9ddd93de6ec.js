(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{2007:(e,r,a)=>{"use strict";a.d(r,{db:()=>l});var s=a(6042),i=a(2964),t=a(5226),n=a(9917);let d=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyB1ZM8tppg9wvPbVb-S_Tst3VdrzVmJR_4",authDomain:"pruebasfijosdn1.firebaseapp.com",projectId:"pruebasfijosdn1",storageBucket:"pruebasfijosdn1.firebasestorage.app",messagingSenderId:"1085419668125",appId:"1:1085419668125:web:3c9e059953cdd953774a74"}),l=(0,i.aU)(d);(0,t.c7)(d),(0,n.xI)(d)},4266:(e,r,a)=>{"use strict";a.d(r,{A:()=>t}),a(7876);var s=a(4232);a(9917),a(2964),a(2007);let i=(0,s.createContext)();function t(){return(0,s.useContext)(i)}},4528:(e,r,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-admin",function(){return a(6887)}])},6887:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>p});var s=a(7876),i=a(4232),t=a(2964),n=a(2007),d=a(4266),l=a(974),c=a(5215),o=a(1465);function u(){let{currentUser:e}=(0,d.A)()||{},[r,a]=(0,i.useState)(""),[u,p]=(0,i.useState)(""),[m,f]=(0,i.useState)(!1),b=async()=>{if(!e)return void p("Debes iniciar sesi\xf3n para crear un perfil.");f(!0),p(""),a("");try{let r=(0,t.H9)(n.db,"users",e.uid);await (0,t.BN)(r,{email:e.email,email_lowercase:e.email.toLowerCase(),nombre:"Luis G.",role:"master"}),a("\xa1Perfil de administrador creado exitosamente! Por favor, refresca la p\xe1gina para ver el dashboard.")}catch(e){console.error("Error al crear el perfil:",e),p("Ocurri\xf3 un error al crear el perfil en la base de datos.")}f(!1)};return(0,s.jsx)(l.A,{style:{maxWidth:"400px",margin:"2rem auto"},children:(0,s.jsxs)(l.A.Body,{children:[(0,s.jsx)("h3",{className:"text-center mb-4",children:"Crear Perfil de Administrador"}),r&&(0,s.jsx)(c.A,{variant:"success",children:r}),u&&(0,s.jsx)(c.A,{variant:"danger",children:u}),(0,s.jsxs)("p",{children:["Haz clic en el bot\xf3n de abajo para crear el registro de perfil para el usuario actual (",(0,s.jsx)("strong",{children:null==e?void 0:e.email}),") con el rol de 'master'."]}),(0,s.jsx)(o.A,{disabled:m||!e,onClick:b,className:"w-100",children:m?"Creando...":"Crear Perfil de Administrador"})]})})}function p(){return(0,s.jsx)("div",{children:(0,s.jsx)(u,{})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[671,871,400,636,593,792],()=>r(4528)),_N_E=e.O()}]);