"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[317],{285:(e,t,o)=>{o.d(t,{$:()=>d,r:()=>i});var s=o(5155),a=o(2115),r=o(4253),n=o(2085),l=o(9434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:o,variant:a,size:n,asChild:d=!1,...c}=e,u=d?r.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(i({variant:a,size:n,className:o})),ref:t,...c})});d.displayName="Button"},2523:(e,t,o)=>{o.d(t,{p:()=>n});var s=o(5155),a=o(2115),r=o(9434);let n=a.forwardRef((e,t)=>{let{className:o,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",o),ref:t,...n})});n.displayName="Input"},5057:(e,t,o)=>{o.d(t,{J:()=>d});var s=o(5155),a=o(2115),r=o(968),n=o(2085),l=o(9434);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)(r.b,{ref:t,className:(0,l.cn)(i(),o),...a})});d.displayName=r.b.displayName},5127:(e,t,o)=>{o.d(t,{A0:()=>l,BF:()=>i,Hj:()=>d,XI:()=>n,nA:()=>u,nd:()=>c});var s=o(5155),a=o(2115),r=o(9434);let n=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,r.cn)("w-full caption-bottom text-sm",o),...a})})});n.displayName="Table";let l=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,r.cn)("[&_tr]:border-b",o),...a})});l.displayName="TableHeader";let i=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,r.cn)("[&_tr:last-child]:border-0",o),...a})});i.displayName="TableBody",a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",o),...a})}).displayName="TableFooter";let d=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("tr",{ref:t,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",o),...a})});d.displayName="TableRow";let c=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",o),...a})});c.displayName="TableHead";let u=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",o),...a})});u.displayName="TableCell",a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",o),...a})}).displayName="TableCaption"},5489:(e,t,o)=>{o.d(t,{$O:()=>h,FP:()=>f,K6:()=>v,LB:()=>T,M9:()=>g,Sc:()=>w,TK:()=>c,U$:()=>b,hG:()=>u,ju:()=>m,kg:()=>i,lo:()=>d,md:()=>y,t5:()=>p,ye:()=>x});var s=o(9737);let a=[{id:"luisgm.ldv@gmail.com",name:"Luis G. (Master)",email:"luisgm.ldv@gmail.com",role:"Master"},{id:"logistica@empresa.com",name:"Usuario de Log\xedstica",email:"logistica@empresa.com",role:"Logistica"},{id:"empleado@empresa.com",name:"Usuario Empleado",email:"empleado@empresa.com",role:"Empleado"}],r=[{id:"asset-1",name:"Laptop Dell XPS 15",status:"En stock",stock:10,serial:"DXPS15-STOCK",location:"Bodega Central"},{id:"asset-2",name:'Monitor LG 27"',status:"En stock",stock:5,serial:"MLG27-STOCK",location:"Bodega Central"},{id:"asset-3",name:"Teclado Mec\xe1nico",status:"Activo",employeeId:"empleado@empresa.com",employeeName:"Usuario Empleado",assignedDate:"2023-10-01",serial:"TM-123"},{id:"asset-4",name:"Mouse Logitech MX",status:"Recibido pendiente",employeeId:"empleado@empresa.com",employeeName:"Usuario Empleado",assignedDate:"2023-10-26",serial:"MLMX-456"}],n=[{id:"req-1",assetId:"asset-1",assetName:"Laptop Dell XPS 15",employeeId:"empleado@empresa.com",employeeName:"Usuario Empleado",quantity:1,status:"Pendiente de Env\xedo",date:"2023-10-25"}],l=[{id:"rep-req-1",employee:"Usuario Empleado",employeeId:"empleado@empresa.com",asset:"Teclado Mec\xe1nico",assetId:"asset-3",serial:"TM-123",reason:"Desgaste",justification:'La tecla "A" no funciona bien.',status:"Pendiente",date:"2023-10-26"}],i=async e=>(console.log("Mock createUser called with:",e),new Promise((t,o)=>{setTimeout(()=>{if(a.find(t=>t.email===e.email))return void o(Error("El correo '".concat(e.email,"' ya est\xe1 registrado.")));let s={id:e.email,...e};a.push(s),console.log("Current mockUsers:",a),t(s)},500)})),d=async e=>(console.log("Mock getUsers called. Returning:",a),new Promise(t=>{setTimeout(()=>{e?t(a.filter(t=>t.role===e)):t(a)},300)})),c=async(e,t)=>(console.log("Mock updateUser called for userId:",e,"with updates:",t),new Promise((o,s)=>{setTimeout(()=>{let r=a.findIndex(t=>t.id===e);r>-1?(a[r]={...a[r],...t},console.log("Updated user:",a[r]),o(a[r])):s(Error("Usuario no encontrado."))},500)})),u=async e=>(console.log("Mock deleteUser called for userId:",e),new Promise((t,o)=>{setTimeout(()=>{let s=a.length;(a=a.filter(t=>t.id!==e)).length<s?(console.log("User deleted. Current mockUsers:",a),t()):o(Error("Usuario no encontrado para eliminar."))},500)})),m=async e=>(console.log("Mock sendAssignmentRequest called with:",e),new Promise((t,o)=>{setTimeout(()=>{let a=r.find(t=>t.id===e.assetId&&"En stock"===t.status);if(!a)return o(Error("Activo no encontrado o sin stock."));let l=a.stock||0,i=l>=e.quantity?"Pendiente de Env\xedo":"Pendiente por Stock";if("Pendiente de Env\xedo"===i){a.stock=l-e.quantity;for(let t=0;t<e.quantity;t++){var d;let o={id:(0,s.A)(),name:a.name,serial:"".concat((null==(d=a.serial)?void 0:d.replace("-STOCK",""))||"SN","-").concat(Date.now(),"-").concat(t),location:a.location,status:"Recibido pendiente",assignedDate:new Date().toISOString().split("T")[0],employeeId:e.employeeId,employeeName:e.employeeName};r.push(o)}}let c={...e,id:(0,s.A)(),date:new Date().toISOString().split("T")[0],status:i};n.push(c),console.log("Current mockAssignmentRequests:",n),console.log("Current mockAssets:",r),t({status:i,id:c.id})},500)})),f=async()=>(console.log("Mock getReplacementRequests called."),new Promise(e=>setTimeout(()=>e(l),300))),p=async(e,t)=>(console.log("Mock updateReplacementRequestStatus called for id: ".concat(e," with status: ").concat(t)),new Promise((o,s)=>{setTimeout(()=>{let a=l.findIndex(t=>t.id===e);a>-1?(l[a].status=t,o()):s(Error("Solicitud no encontrada."))},500)})),g=async e=>(console.log("Mock addAsset called with:",e),new Promise(t=>{setTimeout(()=>{let o=r.find(t=>t.name.toLowerCase()===e.name.toLowerCase()&&"En stock"===t.status);if(o)o.stock=(o.stock||0)+e.stock,o.location=e.location||o.location,console.log("Updated existing asset:",o),t(o);else{let o={id:(0,s.A)(),name:e.name,serial:e.serial||"SN-STOCK-".concat((0,s.A)().slice(0,4)),location:e.location,stock:e.stock,status:"En stock"};r.push(o),console.log("Created new asset:",o),t(o)}console.log("Current mockAssets:",r)},500)})),y=async()=>(console.log("Mock getStockAssets called."),new Promise(e=>setTimeout(()=>{e(r.filter(e=>"En stock"===e.status&&(e.stock||0)>0))},300))),v=async()=>(console.log("Mock getAssignmentRequests called."),new Promise(e=>setTimeout(()=>e(n),300))),b=async e=>(console.log("Mock processAssignmentRequest called for id: ".concat(e)),new Promise((t,o)=>{setTimeout(()=>{let s=n.findIndex(t=>t.id===e);s>-1?(n[s].status="Enviado",t()):o(Error("Solicitud no encontrada."))},500)})),x=async e=>(console.log("Mock getMyAssignedAssets called for employeeId: ".concat(e)),new Promise(t=>setTimeout(()=>{t(r.filter(t=>t.employeeId===e))},300))),h=async e=>(console.log("Mock confirmAssetReceipt called for id: ".concat(e)),new Promise((t,o)=>{setTimeout(()=>{let s=r.findIndex(t=>t.id===e);s>-1?(r[s].status="Activo",t()):o(Error("Activo no encontrado."))},500)})),w=async e=>(console.log("Mock submitReplacementRequest called with:",e),new Promise(t=>{setTimeout(()=>{let o={...e,id:(0,s.A)(),imageUrl:e.imageFile?URL.createObjectURL(e.imageFile):void 0,date:new Date().toISOString().split("T")[0],status:"Pendiente"};l.push(o),console.log("Current mockReplacementRequests:",l),t(o)},500)})),T=async e=>(console.log("Mock getAssetById called for id: ".concat(e)),new Promise(t=>{setTimeout(()=>{t(r.find(t=>t.id===e)||null)},300)}))},6126:(e,t,o)=>{o.d(t,{E:()=>l});var s=o(5155);o(2115);var a=o(2085),r=o(9434);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:o,...a}=e;return(0,s.jsx)("div",{className:(0,r.cn)(n({variant:o}),t),...a})}},6695:(e,t,o)=>{o.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>l,wL:()=>u});var s=o(5155),a=o(2115),r=o(9434);let n=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",o),...a})});n.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",o),...a})});l.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",o),...a})});i.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",o),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",o),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",o),...a})});u.displayName="CardFooter"},7481:(e,t,o)=>{o.d(t,{dj:()=>m});var s=o(2115);let a=0,r=new Map,n=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:o}=t;return o?n(o):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===o||void 0===o?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],d={toasts:[]};function c(e){d=l(d,e),i.forEach(e=>{e(d)})}function u(e){let{...t}=e,o=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:o});return c({type:"ADD_TOAST",toast:{...t,id:o,open:!0,onOpenChange:e=>{e||s()}}}),{id:o,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:o}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8030:(e,t,o)=>{o.d(t,{A:()=>d,AuthProvider:()=>i});var s=o(5155),a=o(2115),r=o(5695);let n=[{name:"Luis G. (Master)",email:"luisgm.ldv@gmail.com",role:"Master"},{name:"Usuario de Log\xedstica",email:"logistica@empresa.com",role:"Logistica"},{name:"Usuario Empleado",email:"empleado@empresa.com",role:"Empleado"}],l=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[o,i]=(0,a.useState)(null),[d,c]=(0,a.useState)(!0),u=(0,r.useRouter)();return(0,a.useEffect)(()=>{try{let e=localStorage.getItem("user");e&&i(JSON.parse(e))}catch(e){console.error("Could not parse user from local storage",e),localStorage.removeItem("user")}c(!1)},[]),(0,s.jsx)(l.Provider,{value:{user:o,loading:d,login:(e,t)=>{let o=n.find(t=>t.email===e);if(o&&"password"===t){let t={...o,id:e};return i(t),localStorage.setItem("user",JSON.stringify(t)),!0}return!1},logout:()=>{i(null),localStorage.removeItem("user"),u.push("/")}},children:t})},d=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9434:(e,t,o)=>{o.d(t,{cn:()=>r});var s=o(2596),a=o(9688);function r(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,a.QP)((0,s.$)(t))}}}]);