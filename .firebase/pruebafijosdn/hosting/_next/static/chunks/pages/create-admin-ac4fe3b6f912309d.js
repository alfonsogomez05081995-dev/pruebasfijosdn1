(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{4266:(e,r,a)=>{"use strict";a.d(r,{A:()=>t}),a(7876);var s=a(4232);a(9917),a(2964),a(8269);let i=(0,s.createContext)();function t(){return(0,s.useContext)(i)}},4528:(e,r,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-admin",function(){return a(6887)}])},6887:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>p});var s=a(7876),i=a(4232),t=a(2964),n=a(8269),d=a(4266),l=a(974),c=a(5215),o=a(1465);function u(){let{currentUser:e}=(0,d.A)()||{},[r,a]=(0,i.useState)(""),[u,p]=(0,i.useState)(""),[f,m]=(0,i.useState)(!1),b=async()=>{if(!e)return void p("Debes iniciar sesi\xf3n para crear un perfil.");m(!0),p(""),a("");try{let r=(0,t.H9)(n.db,"users",e.uid);await (0,t.BN)(r,{email:e.email,email_lowercase:e.email.toLowerCase(),nombre:"Luis G.",role:"master"}),a("\xa1Perfil de administrador creado exitosamente! Por favor, refresca la p\xe1gina para ver el dashboard.")}catch(e){console.error("Error al crear el perfil:",e),p("Ocurri\xf3 un error al crear el perfil en la base de datos.")}m(!1)};return(0,s.jsx)(l.A,{style:{maxWidth:"400px",margin:"2rem auto"},children:(0,s.jsxs)(l.A.Body,{children:[(0,s.jsx)("h3",{className:"text-center mb-4",children:"Crear Perfil de Administrador"}),r&&(0,s.jsx)(c.A,{variant:"success",children:r}),u&&(0,s.jsx)(c.A,{variant:"danger",children:u}),(0,s.jsxs)("p",{children:["Haz clic en el bot\xf3n de abajo para crear el registro de perfil para el usuario actual (",(0,s.jsx)("strong",{children:null==e?void 0:e.email}),") con el rol de 'master'."]}),(0,s.jsx)(o.A,{disabled:f||!e,onClick:b,className:"w-100",children:f?"Creando...":"Crear Perfil de Administrador"})]})})}function p(){return(0,s.jsx)("div",{children:(0,s.jsx)(u,{})})}},8269:(e,r,a)=>{"use strict";a.d(r,{db:()=>l});var s=a(6042),i=a(2964),t=a(9917),n=a(5226);let d=(0,s.Wp)({apiKey:"AIzaSyCZfCB30ZCrgfV787JNjZ5WoRrvgyN1GL0",authDomain:"pruebafijosdn.firebaseapp.com",projectId:"pruebafijosdn",storageBucket:"pruebafijosdn.firebasestorage.app",messagingSenderId:"479598312333",appId:"1:479598312333:web:e2ecd1de61bef748a85bc4",measurementId:"G-B0SNEXMG6B"}),l=(0,i.aU)(d);(0,t.xI)(d),(0,n.c7)(d)}},e=>{var r=r=>e(e.s=r);e.O(0,[671,871,400,636,593,792],()=>r(4528)),_N_E=e.O()}]);